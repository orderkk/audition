<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        var obj1 = {
            a: {
                a1: { a2: 1 },
                a10: { a11: 123, a111: { a1111: 123123 } }
            },
            b: 123,
            c: "123",
            d: undefined,
            e: [1, 2, 3, { a: 123 }]
        }

        // 简易版
        function simpleDeepClone(o) {
            let obj = {}
            for (let key in o) {
                if (typeof o[key] === 'object') {
                    obj[key] = simpleDeepClone(o[key])
                } else {
                    obj[key] = o[key]
                }
            }
            return obj
        }

        // var obj2 = simpleDeepClone(obj1)
        // obj1.a.a1 = 996
        // obj2.b = true
        // console.log(obj2)
        // console.log(obj1)


        function deepClone(o) {
            // 判读是否是对象
            if (Object.prototype.toString.call(o) === '[object Object]') {
                let obj = {}
                for (let i in o) {
                    if (o.hasOwnProperty(i)) {
                        if (typeof o[i] === 'object') {
                            obj[i] = deepClone(o[i])
                        } else {
                            obj[i] = o[i]
                        }
                    }
                }
                return obj
            } else {
                return o
            }
        }

        var obj3 = deepClone(obj1)
        console.log(obj3)
    </script>
</body>

</html>